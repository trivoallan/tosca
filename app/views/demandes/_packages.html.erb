<% if @versions.size > 0 %>
<p><%= _("Specify here the packages impacted by the request :") %></p>
<table >
  <tr><th colspan="2" align="center"><%= _("Commitment") %></th><th colspan="2"></th></tr>
  <tr>
    <th><%= _("Workaround") %></th>
    <th><%= _("Correction") %></th>
    <th></th>
    <th><%= _("Packages") %></th>
  </tr>
  <% selecteds = @demande[:version_ids] %>
  <% @versions.each do |p| %>
     <% contract = Contract.find(p.contract_id) %>
     <% commitment = contract.find_commitment(@demande) %>
     <tr class="<%=cycle('even','odd')%>">
       <td><% if commitment %>
         <%= Time.in_words(commitment.contournement.days, true)%>
       <% end %></td>
       <td><% if commitment %>
         <%= Time.in_words(commitment.correction.days, true)%> </td>
       <% end %> </td>
       <td>
         <% #TODO : remplacer ce truc par un <%= check_box ... %>
         <input type="checkbox" id="<%=p.id%>" name="demande[version_ids][]"
            value="<%=p.id%>" <%= ' checked="checked"' if selecteds and selecteds.include?(p.id.to_s) %>
         ></td>
       <td><%= p.to_s%></td>
    </tr>
  <% end %>
</table>
<% end %>
