<% options = { :update => 'content', :method => :get, 
    :url => paquets_url,
    :before => "Element.show('spinner')",
    :success => "Element.hide('spinner')" } %>

<% form_remote_tag( options.dup.update(:html => {
    :id => 'filters', :name => 'filters', :method => :get})) do %>

<% # used for iteration in ajaxified list %>
<%= hidden_field_tag 'page', '1' %>

<div class="menu_title" onclick="Element.toggle('menu_consultation')">
  > <%= _('Consultation')%></div>
<ul class="menu" id="menu_consultation">
 <li><%= link_to _('Software list'), :controller => 'logiciels' %></li>
 <li><%= link_to _('Package list'), :controller => 'paquets' %></li>
</ul>


<div class="menu_title" onclick="Element.toggle('menu_recherche')">
  > <%= _('Search')%></div>
<ul class="menu" id="menu_recherche">
  <li><b><%= _('Name')%> </b></li>
  <li><%= text_field_with_auto_complete :paquet, :name, {}, :skip_style => true %></li>
</ul>

<div class="menu_title" onclick="Element.toggle('menu_perimetre')">
  > <%= _('Perimeter')%></div>
<ul class="menu" id="menu_perimetre">
  <li><b><%= _('Source packages')%> </b><%=@count[:paquets]%></li>
</ul>


<% end %>
<%= observe_form 'filters', options %>
